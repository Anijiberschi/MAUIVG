<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
                x:Class="MyApp.View.PropertySelectorPopup"
                Size="350, 500">

    <Frame BorderColor="{StaticResource Primary}" 
           CornerRadius="10" 
           Padding="20" 
           BackgroundColor="White">
        <VerticalStackLayout Spacing="15">
            <Label Text="Sélectionner les champs à exporter"
                   FontAttributes="Bold" 
                   FontSize="18"
                   HorizontalOptions="Center" 
                   Margin="0,0,0,10"/>

            <Label Text="Choisissez les propriétés des livres que vous souhaitez inclure dans l'export CSV."
                   FontSize="14"
                   TextColor="Gray"
                   HorizontalOptions="Center"
                   HorizontalTextAlignment="Center"/>

            <ScrollView VerticalOptions="Fill" MaximumHeightRequest="350">
                <VerticalStackLayout Spacing="10" x:Name="PropertyCheckboxContainer">
                    <!-- Les CheckBox seront ajoutées dynamiquement ici -->
                </VerticalStackLayout>
            </ScrollView>

            <HorizontalStackLayout HorizontalOptions="Center" Spacing="10">
                <Button Text="Tout sélectionner" 
                        Clicked="OnSelectAllClicked"
                        BackgroundColor="#28A745"
                        WidthRequest="140"/>

                <Button Text="Tout désélectionner" 
                        Clicked="OnDeselectAllClicked"
                        BackgroundColor="#DC3545"
                        WidthRequest="140"/>
            </HorizontalStackLayout>

            <Button Text="Confirmer" 
                    Clicked="OnConfirmClicked" 
                    HorizontalOptions="Center"
                    BackgroundColor="{StaticResource Primary}"
                    WidthRequest="200"
                    HeightRequest="50"
                    FontAttributes="Bold"
                    Margin="0,10,0,0"/>
        </VerticalStackLayout>
    </Frame>

</toolkit:Popup>